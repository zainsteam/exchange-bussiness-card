{"version":3,"sources":["webpack:///src/app/card-download/card-download.page.html","webpack:///src/app/card-download/card-download-routing.module.ts","webpack:///src/app/card-download/card-download.module.ts","webpack:///src/app/card-download/card-download.page.scss","webpack:///src/app/card-download/card-download.page.ts"],"names":["routes","path","component","CardDownloadPageRoutingModule","imports","forChild","exports","CardDownloadPageModule","declarations","CardDownloadPage","route","apiService","platform","toast","navCtrl","screenshot","state","sub","params","subscribe","id","cardSO","console","log","viewCard","ids","getCard","data","cardid","card","cellNoSharing","multipleShare","mutipleShare","err","statusText","undefined","updatedownload","save","then","res","screen","filePath","show","navigateForward","reset","updateDownload","self","setTimeout","download","selector","template"],"mappings":"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","file":"card-download-card-download-module-es5.js","sourcesContent":["export default \"<ion-content *ngIf=\\\"card\\\" class=\\\"card-background-page\\\">\\r\\n  <!-- <p>card downloading</p>\\r\\n  <p><b>Full Name: </b></p>\\r\\n  <p><b>CellNo: </b>{{card.cellNo}}</p>\\r\\n <p><b>Workplace: </b></p> -->\\r\\n \\r\\n <ion-card (click)=\\\"save()\\\"  style=\\\"margin: 32vh 0;\\\">\\r\\n  <img src=\\\"../../assets/img/cardimage.jpg  \\\"   style=\\\"max-width: none;\\\"/>\\r\\n  <div class=\\\"card-title\\\">{{card.name}} {{card.surname}}</div>\\r\\n  <div class=\\\"card-subtitle2\\\">{{card.email}}</div>\\r\\n  <div class=\\\"card-subtitle\\\">{{card.Workplace}}</div>\\r\\n  <div *ngIf=\\\"cellNoSharing\\\" class=\\\"card-subtitle3\\\">{{card.cellNo}}</div>\\r\\n\\r\\n  <div  class=\\\"card-subtitle4\\\">\\r\\n  <ion-icon name=\\\"arrow-down-circle-outline\\\"></ion-icon>\\r\\n  </div>\\r\\n</ion-card>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CardDownloadPage } from './card-download.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CardDownloadPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CardDownloadPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CardDownloadPageRoutingModule } from './card-download-routing.module';\r\n\r\nimport { CardDownloadPage } from './card-download.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    CardDownloadPageRoutingModule\r\n  ],\r\n  declarations: [CardDownloadPage]\r\n})\r\nexport class CardDownloadPageModule {}\r\n","export default \".card-background-page ion-card {\\n  position: relative;\\n  text-align: center;\\n}\\n.card-background-page .card-title {\\n  position: absolute;\\n  top: 18%;\\n  font-size: 2em;\\n  right: 5%;\\n  font-weight: bold;\\n  color: #000;\\n  text-transform: capitalize;\\n}\\n.card-background-page .card-subtitle {\\n  font-size: 1em;\\n  position: absolute;\\n  top: 62%;\\n  right: 5%;\\n  color: #000;\\n}\\n.card-background-page .card-subtitle2 {\\n  font-size: 1em;\\n  position: absolute;\\n  top: 52%;\\n  right: 5%;\\n  color: #000;\\n}\\n.card-background-page .card-subtitle3 {\\n  font-size: 1em;\\n  position: absolute;\\n  top: 42%;\\n  right: 5%;\\n  color: #000;\\n}\\n.card-background-page .card-subtitle4 {\\n  font-size: 2.5em;\\n  position: absolute;\\n  top: 72%;\\n  right: 5%;\\n  color: #000;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2FyZC1kb3dubG9hZC9FOlxcZXhjaGFuZ2UtYnVzc2luZXNzLWNhcmQvc3JjXFxhcHBcXGNhcmQtZG93bmxvYWRcXGNhcmQtZG93bmxvYWQucGFnZS5zY3NzIiwic3JjL2FwcC9jYXJkLWRvd25sb2FkL2NhcmQtZG93bmxvYWQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVFO0VBQ0Usa0JBQUE7RUFDQSxrQkFBQTtBQ0RKO0FESUU7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxjQUFBO0VBQ0EsU0FBQTtFQUdBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLDBCQUFBO0FDSko7QURPRTtFQUNFLGNBQUE7RUFDQSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBRUEsV0FBQTtBQ05KO0FEU0U7RUFDSSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUVBLFdBQUE7QUNSTjtBRFdJO0VBQ0UsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFFQSxXQUFBO0FDVk47QURhSTtFQUNFLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUVBLFdBQUE7QUNaTiIsImZpbGUiOiJzcmMvYXBwL2NhcmQtZG93bmxvYWQvY2FyZC1kb3dubG9hZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZC1iYWNrZ3JvdW5kLXBhZ2Uge1xyXG5cclxuICBpb24tY2FyZCB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG5cclxuICAuY2FyZC10aXRsZSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDE4JTtcclxuICAgIGZvbnQtc2l6ZTogMi4wZW07XHJcbiAgICByaWdodDogNSU7XHJcbiAgICAvLyBsZWZ0OjUlO1xyXG4gICAgLy8gd2lkdGg6IDEwMCU7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGNvbG9yOiAjMDAwO1xyXG4gICAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XHJcbiAgfVxyXG5cclxuICAuY2FyZC1zdWJ0aXRsZSB7XHJcbiAgICBmb250LXNpemU6IDEuMGVtO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA2MiU7XHJcbiAgICByaWdodDogNSU7XHJcbiAgICAvLyB3aWR0aDogMTAwJTtcclxuICAgIGNvbG9yOiAjMDAwO1xyXG4gIH1cclxuXHJcbiAgLmNhcmQtc3VidGl0bGUyIHtcclxuICAgICAgZm9udC1zaXplOiAxLjBlbTtcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICB0b3A6IDUyJTtcclxuICAgICAgcmlnaHQ6IDUlO1xyXG4gICAgICAvLyB3aWR0aDogMTAwJTtcclxuICAgICAgY29sb3I6ICMwMDA7XHJcbiAgICB9XHJcblxyXG4gICAgLmNhcmQtc3VidGl0bGUzIHtcclxuICAgICAgZm9udC1zaXplOiAxLjBlbTtcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICB0b3A6IDQyJTtcclxuICAgICAgcmlnaHQ6IDUlO1xyXG4gICAgICAvLyB3aWR0aDogMTAwJTtcclxuICAgICAgY29sb3I6ICMwMDA7XHJcbiAgICB9XHJcblxyXG4gICAgLmNhcmQtc3VidGl0bGU0IHtcclxuICAgICAgZm9udC1zaXplOiAyLjVlbTtcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICB0b3A6IDcyJTtcclxuICAgICAgcmlnaHQ6IDUlO1xyXG4gICAgICAvLyB3aWR0aDogMTAwJTtcclxuICAgICAgY29sb3I6ICMwMDA7XHJcbiAgICB9XHJcblxyXG5cclxufSIsIi5jYXJkLWJhY2tncm91bmQtcGFnZSBpb24tY2FyZCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLmNhcmQtYmFja2dyb3VuZC1wYWdlIC5jYXJkLXRpdGxlIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDE4JTtcbiAgZm9udC1zaXplOiAyZW07XG4gIHJpZ2h0OiA1JTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMDAwO1xuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcbn1cbi5jYXJkLWJhY2tncm91bmQtcGFnZSAuY2FyZC1zdWJ0aXRsZSB7XG4gIGZvbnQtc2l6ZTogMWVtO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNjIlO1xuICByaWdodDogNSU7XG4gIGNvbG9yOiAjMDAwO1xufVxuLmNhcmQtYmFja2dyb3VuZC1wYWdlIC5jYXJkLXN1YnRpdGxlMiB7XG4gIGZvbnQtc2l6ZTogMWVtO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNTIlO1xuICByaWdodDogNSU7XG4gIGNvbG9yOiAjMDAwO1xufVxuLmNhcmQtYmFja2dyb3VuZC1wYWdlIC5jYXJkLXN1YnRpdGxlMyB7XG4gIGZvbnQtc2l6ZTogMWVtO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNDIlO1xuICByaWdodDogNSU7XG4gIGNvbG9yOiAjMDAwO1xufVxuLmNhcmQtYmFja2dyb3VuZC1wYWdlIC5jYXJkLXN1YnRpdGxlNCB7XG4gIGZvbnQtc2l6ZTogMi41ZW07XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA3MiU7XG4gIHJpZ2h0OiA1JTtcbiAgY29sb3I6ICMwMDA7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ApiService } from '../service/api/api.service';\r\nimport { Screenshot } from '@ionic-native/screenshot/ngx';\r\nimport { Platform, NavController } from '@ionic/angular';\r\nimport { Toast } from '@ionic-native/toast/ngx';\r\n\r\n@Component({\r\n  selector: 'app-card-download',\r\n  templateUrl: './card-download.page.html',\r\n  styleUrls: ['./card-download.page.scss'],\r\n})\r\nexport class CardDownloadPage implements OnInit {\r\n  public sub;\r\n  id: any;\r\n  screen: any;\r\n  state: boolean = false;\r\n  cardid : any;\r\n  public card : any[] ;\r\n  cellNoSharing: boolean;\r\n  multipleShare:boolean;\r\n  cardSO:any;\r\n  constructor(private route: ActivatedRoute,\r\n    public apiService: ApiService,\r\n    private platform: Platform,\r\n    private toast: Toast,\r\n    public navCtrl: NavController,\r\n    private screenshot: Screenshot) { \r\n   \r\n  }\r\n\r\n   ngOnInit() {\r\n    this.sub = this.route.params.subscribe(params => {\r\n      this.id = params['id'];\r\n      this.cardSO = params['card'];\r\n    });\r\n    console.log('id',this.cardSO);\r\n    this.viewCard(this.id);\r\n    \r\n  }\r\n\r\n  // ionViewWillEnter(){\r\n  //   this.save();\r\n\r\n  // }\r\n\r\n   viewCard(ids) {\r\n    console.log(ids);\r\n    \r\n    this.apiService.getCard(ids)\r\n    .subscribe((data:any) => //Start Service\r\n    {\r\n      this.cardid = data[0]['_id'];\r\n      this.card = data[0]['card'];\r\n      this.cellNoSharing = data[0]['card'].cellNoSharing;\r\n      this.multipleShare = data[0]['card'].mutipleShare;\r\n      console.log(!this.multipleShare);\r\n      \r\n      \r\n    },\r\n    err => {\r\n      console.log(err);\r\n      console.log(err.statusText);\r\n    });\r\n    \r\n    // this.save();\r\n  }\r\n  \r\n  save(){\r\n    \r\n    \r\n    // alert(\"done;\");\r\n    if(this.card['download'] == true || this.card['download'] == undefined || this.cardSO == \"own\"){\r\n      if(this.card['mutipleShare'] == false )\r\n      this.updatedownload(this.cardid,this.multipleShare);\r\n      console.log('run')\r\n    this.screenshot.save('jpg', 80, this.cardid).then(res => {\r\n      this.screen = res.filePath;\r\n      this.state = true;\r\n      this.toast.show('Card Save', '5000', 'bottom').subscribe(\r\n        toast => {\r\n          console.log(toast);\r\n        }\r\n        );\r\n        this.navCtrl.navigateForward(['card-list/']);\r\n        this.reset();\r\n      });\r\n    }\r\n    else\r\n    this.toast.show('Download not Allowed', '5000', 'bottom').subscribe(\r\n      toast => {\r\n        console.log(toast);\r\n      }\r\n      );\r\n  }\r\n\r\n  updatedownload(cardid,multipleShare){\r\n    console.log(multipleShare);\r\n\r\n    this.apiService.updateDownload(cardid,multipleShare)\r\n    .subscribe((data:any) => //Start Service\r\n    {\r\n       console.log(data);\r\n    },\r\n    err => {\r\n      console.log(err);\r\n      console.log(err.statusText);\r\n    });\r\n    \r\n  }\r\n\r\n  reset() {\r\n    var self = this;\r\n    setTimeout(function(){ \r\n      self.state = false;\r\n      this.download = false;\r\n    }, 1000);\r\n  }\r\n}\r\n"]}